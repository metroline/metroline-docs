"use strict";(self.webpackChunkmetroline_docs_2=self.webpackChunkmetroline_docs_2||[]).push([[8855],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),d=o,h=c["".concat(l,".").concat(d)]||c[d]||m[d]||a;return n?r.createElement(h,i(i({ref:t},u),{},{components:n})):r.createElement(h,i({ref:t},u))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8502:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={title:"Limitations",excerpt:""},i="Limitations",s={unversionedId:"getting-started/limitations",id:"getting-started/limitations",title:"Limitations",description:"localhost",source:"@site/docs/10-getting-started/30-limitations.md",sourceDirName:"10-getting-started",slug:"/getting-started/limitations",permalink:"/metroline-docs/docs/getting-started/limitations",draft:!1,editUrl:"https://github.com/metroline/metroline-docs/tree/main/docs/10-getting-started/30-limitations.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{title:"Limitations",excerpt:""},sidebar:"main",previous:{title:"SSL",permalink:"/metroline-docs/docs/getting-started/ssl"},next:{title:"Upgrade and downgrade",permalink:"/metroline-docs/docs/getting-started/upgrade-and-downgrade"}},l={},p=[{value:"localhost",id:"localhost",level:2},{value:"OAuth token expiration",id:"oauth-token-expiration",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"limitations"},"Limitations"),(0,o.kt)("h2",{id:"localhost"},"localhost"),(0,o.kt)("p",null,"Since we clone projects inside a Docker container, your repo URL must not use ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost"),"."),(0,o.kt)("h2",{id:"oauth-token-expiration"},"OAuth token expiration"),(0,o.kt)("p",null,"When you sign in, we store your OAuth token in our database so we can use it to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"synchronize your repos regularly"),(0,o.kt)("li",{parentName:"ul"},"if you have enabled a repo:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"send pipeline status to your git server"),(0,o.kt)("li",{parentName:"ul"},"check whether the branch of a pipeline is protected when setting its jobs' environment")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"What happens if an OAuth token expires ?")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"we're not able to synchronize your repos => it's non blocking"),(0,o.kt)("li",{parentName:"ul"},"we're not able to send pipeline status to your git server for repos you've setup"),(0,o.kt)("li",{parentName:"ul"},"we're not able to check whether a branch is protected when we create set jobs' environment. This can be blocking, so at the moment we fallback to considering a branch to be non protected, this way in most cases Metroline can keep working, and we log errors to make sure you see them.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"What can you do to fix this ?")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"If ",(0,o.kt)("strong",{parentName:"li"},"your")," token expired, you just need to logout and login again."),(0,o.kt)("li",{parentName:"ul"},"If the token of ",(0,o.kt)("strong",{parentName:"li"},"another user")," expired, pipelines for repos setup by that user will not be created anymore. In that case, all you need is to disable the repo and enable it right after. This will associate ",(0,o.kt)("strong",{parentName:"li"},"you")," as the user that setup the repo, and hence ",(0,o.kt)("strong",{parentName:"li"},"your")," token will be used when something needs to be done autonomously for that repo. Note that to setup a repo, you need to have sufficient ",(0,o.kt)("a",{parentName:"li",href:"#permissions"},"permissions"),".")),(0,o.kt)("div",{class:"blockquote","data-props":'{ "mod": "warning" }'},(0,o.kt)("p",null,"Always make sure that the ",(0,o.kt)("strong",{parentName:"p"},"refresh token")," expiration time is greater than the ",(0,o.kt)("strong",{parentName:"p"},"access token")," expiration time. Some Git servers allow you to set the access/refresh token expiration. For example, with Gitea, you can set ",(0,o.kt)("a",{parentName:"p",href:"https://docs.gitea.io/en-us/config-cheat-sheet/#oauth2-oauth2"},(0,o.kt)("inlineCode",{parentName:"a"},"REFRESH_TOKEN_EXPIRATION_TIME"),"/",(0,o.kt)("inlineCode",{parentName:"a"},"ACCESS_TOKEN_EXPIRATION_TIME")),". For Github, OAuth tokens never expire (for Gthub OAuth apps), and for Gitlab we're not sure if this setting exists but we believe that at this time, OAuth tokens never expire.")))}c.isMDXComponent=!0}}]);