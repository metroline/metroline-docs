<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-environment-reference/server">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Server Environment Reference | Metroline Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://metroline.github.io/metroline-docs/docs/environment-reference/server"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Server Environment Reference | Metroline Docs"><meta data-rh="true" name="description" content="DEBUG"><meta data-rh="true" property="og:description" content="DEBUG"><link data-rh="true" rel="icon" href="/metroline-docs/favicon.ico"><link data-rh="true" rel="canonical" href="https://metroline.github.io/metroline-docs/docs/environment-reference/server"><link data-rh="true" rel="alternate" href="https://metroline.github.io/metroline-docs/docs/environment-reference/server" hreflang="en"><link data-rh="true" rel="alternate" href="https://metroline.github.io/metroline-docs/docs/environment-reference/server" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/metroline-docs/blog/rss.xml" title="Metroline Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/metroline-docs/blog/atom.xml" title="Metroline Docs Atom Feed"><link rel="stylesheet" href="/metroline-docs/assets/css/styles.900b2597.css">
<link rel="preload" href="/metroline-docs/assets/js/runtime~main.1d5664a1.js" as="script">
<link rel="preload" href="/metroline-docs/assets/js/main.02573d62.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/metroline-docs/"><div class="navbar__logo"><img src="/metroline-docs/metroline-logo-circle-purple.svg" alt="Metroline Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/metroline-docs/metroline-logo-circle-purple.svg" alt="Metroline Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Metroline</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/metroline/metroline" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/metroline-docs/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/metroline-docs/docs/getting-started/installation">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/metroline-docs/docs/ci-configuration/basics">CI configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/metroline-docs/docs/environment-reference/server">Environment reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/metroline-docs/docs/environment-reference/server">Server Environment Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metroline-docs/docs/environment-reference/runner">Runner Environment Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/metroline-docs/docs/environment-reference/ui">UI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/metroline-docs/docs/guides/building-docker-images-inside-jobs">Guides</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/metroline-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Environment reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Server Environment Reference</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Server Environment Reference</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="debug">DEBUG<a class="hash-link" href="#debug" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Enable debug using the popular <a href="https://www.npmjs.com/package/debug" target="_blank" rel="noopener noreferrer">debug</a> Npm package. To limit logs to Metroline, use <code>DEBUG=metroline.server*</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_jwt_secret">METROLINE<!-- -->_<!-- -->JWT<!-- -->_<!-- -->SECRET<a class="hash-link" href="#metroline_jwt_secret" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Secret used to sign and verify JWT tokens. Can be generated with <code>openssl rand 32 -hex</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_jwt_token_expiration">METROLINE<!-- -->_<!-- -->JWT<!-- -->_<!-- -->TOKEN<!-- -->_<!-- -->EXPIRATION<a class="hash-link" href="#metroline_jwt_token_expiration" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 259200 (30 days)</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>Expiration time (in seconds) of JWT tokens.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_ui_url">METROLINE<!-- -->_<!-- -->UI<!-- -->_<!-- -->URL<a class="hash-link" href="#metroline_ui_url" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>URL of the Metroline UI.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_mongo_uri">METROLINE<!-- -->_<!-- -->MONGO<!-- -->_<!-- -->URI<a class="hash-link" href="#metroline_mongo_uri" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>URI of a MongoDB instance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitlab_url">METROLINE<!-- -->_<!-- -->GITLAB<!-- -->_<!-- -->URL<a class="hash-link" href="#metroline_gitlab_url" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: <a href="https://gitlab.com" target="_blank" rel="noopener noreferrer">https://gitlab.com</a></p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>URL of your Gitlab instance</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitlab_client_id">METROLINE<!-- -->_<!-- -->GITLAB<!-- -->_<!-- -->CLIENT<!-- -->_<!-- -->ID<a class="hash-link" href="#metroline_gitlab_client_id" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Gitlab application ID (see <a href="https://docs.gitlab.com/ee/integration/oauth_provider.html#adding-an-application-through-the-profile" target="_blank" rel="noopener noreferrer">here</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitlab_client_secret">METROLINE<!-- -->_<!-- -->GITLAB<!-- -->_<!-- -->CLIENT<!-- -->_<!-- -->SECRET<a class="hash-link" href="#metroline_gitlab_client_secret" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Gitlab application secret (see <a href="https://docs.gitlab.com/ee/integration/oauth_provider.html#adding-an-application-through-the-profile" target="_blank" rel="noopener noreferrer">here</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitlab_webhook_ssl_verify">METROLINE<!-- -->_<!-- -->GITLAB<!-- -->_<!-- -->WEBHOOK<!-- -->_<!-- -->SSL<!-- -->_<!-- -->VERIFY<a class="hash-link" href="#metroline_gitlab_webhook_ssl_verify" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: true</p><p><strong>Type</strong>: boolean</p><p><strong>Description</strong>:</p><p>Whether to enable <a href="https://docs.gitlab.com/ee/user/project/integrations/webhooks.html#ssl-verification" target="_blank" rel="noopener noreferrer">Gitlab webhook SSL verification</a> for hooks created by Metroline.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitea_url">METROLINE<!-- -->_<!-- -->GITEA<!-- -->_<!-- -->URL<a class="hash-link" href="#metroline_gitea_url" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>URL of your Gitea instance</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitea_client_id">METROLINE<!-- -->_<!-- -->GITEA<!-- -->_<!-- -->CLIENT<!-- -->_<!-- -->ID<a class="hash-link" href="#metroline_gitea_client_id" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Client ID of an OAuth app registered in your Gitea instance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_gitea_client_secret">METROLINE<!-- -->_<!-- -->GITEA<!-- -->_<!-- -->CLIENT<!-- -->_<!-- -->SECRET<a class="hash-link" href="#metroline_gitea_client_secret" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Client secret of an OAuth app registered in your Gitea instance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_github_url">METROLINE<!-- -->_<!-- -->GITHUB<!-- -->_<!-- -->URL<a class="hash-link" href="#metroline_github_url" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: <a href="https://github.com" target="_blank" rel="noopener noreferrer">https://github.com</a></p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>URL of your Github instance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_github_client_id">METROLINE<!-- -->_<!-- -->GITHUB<!-- -->_<!-- -->CLIENT<!-- -->_<!-- -->ID<a class="hash-link" href="#metroline_github_client_id" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Client ID of a Github OAuth app.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_github_client_secret">METROLINE<!-- -->_<!-- -->GITHUB<!-- -->_<!-- -->CLIENT<!-- -->_<!-- -->SECRET<a class="hash-link" href="#metroline_github_client_secret" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Client secret of a Github OAuth app.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_github_webhook_ssl_verify">METROLINE<!-- -->_<!-- -->GITHUB<!-- -->_<!-- -->WEBHOOK<!-- -->_<!-- -->SSL<!-- -->_<!-- -->VERIFY<a class="hash-link" href="#metroline_github_webhook_ssl_verify" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: true</p><p><strong>Type</strong>: boolean</p><p><strong>Description</strong>:</p><p>Whether your Github instance should verify the SSL certificate of Metroline when calling webhooks.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_port">METROLINE<!-- -->_<!-- -->PORT<a class="hash-link" href="#metroline_port" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 3000 (local development) / 80 (Dockerfile)</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>Port on which metroline is listening.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_host">METROLINE<!-- -->_<!-- -->HOST<a class="hash-link" href="#metroline_host" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Host of your metroline server. For example <code>metroline.company.com:3000</code>. You can include host and port, but it should not contain protocol as this is handled internally. This value is used for providing correct redirect URL when doing OAuth flows and should </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_webhook_host">METROLINE<!-- -->_<!-- -->WEBHOOK<!-- -->_<!-- -->HOST<a class="hash-link" href="#metroline_webhook_host" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: METROLINE_HOST</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Host used for building the webhook URL when setting up a repository. This is useful when you are working locally as you&#x27;ve probably set <a href="#metroline_host"><code>METROLINE_HOST</code></a> to <code>localhost</code>. When your Git server calls webhooks, <code>localhost</code> will point to itself. The solution is to set <code>METROLINE_WEBHOOK_HOST</code> to <code>host.docker.internal</code> (OS X) or to your IP.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_migrate_rollback">METROLINE<!-- -->_<!-- -->MIGRATE<!-- -->_<!-- -->ROLLBACK<a class="hash-link" href="#metroline_migrate_rollback" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: false</p><p><strong>Type</strong>: boolean</p><p><strong>Description</strong>:</p><p>Forces the server to rollback the last migration, then exit. Use this when you&#x27;re trying to <a href="#/docs/core/upgrade-and-downgrade">downgrade</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_job_timeout">METROLINE<!-- -->_<!-- -->JOB<!-- -->_<!-- -->TIMEOUT<a class="hash-link" href="#metroline_job_timeout" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 86400</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>How much time (in seconds) a job has to complete. The server automatically cancels jobs that haven&#x27;t completed within this amount of time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_runner_secret">METROLINE<!-- -->_<!-- -->RUNNER<!-- -->_<!-- -->SECRET<a class="hash-link" href="#metroline_runner_secret" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Secret that should be sent by runners to authenticate.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_global_secrets">METROLINE<!-- -->_<!-- -->GLOBAL<!-- -->_<!-- -->SECRETS<a class="hash-link" href="#metroline_global_secrets" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>An array of global secrets, formatted as a one line JSON string. See <a href="/metroline-docs/docs/ci-configuration/secrets#global-secrets">global secrets</a>. </p><p>For example:</p><div class="code-group" data-props="{ &quot;lineNumbers&quot;: [&quot;true&quot;] }"><div class="language-dotenv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dotenv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">METROLINE_GLOBAL_SECRETS=[{&quot;name&quot;:&quot;test&quot;,&quot;value&quot;:&quot;val&quot;},{&quot;name&quot;:&quot;test2&quot;,&quot;value&quot;:&quot;val&quot;,&quot;protectedBranchesOnly&quot;:true,&quot;branches&quot;:[&quot;master&quot;]}]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><p>Each object of the array should have the following properties:</p><table><thead><tr><th>Property</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>true</td><td>Global secret name. Should match <code>/^[a-zA-Z_][a-zA-Z0-9_]*$/</code>.</td></tr><tr><td>value</td><td>string</td><td>true</td><td>Global secret value.</td></tr><tr><td>protectedBranchesOnly</td><td>boolean</td><td>false</td><td>Whether this secret should be available on protected branches.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_max_jobs_per_pipeline">METROLINE<!-- -->_<!-- -->MAX<!-- -->_<!-- -->JOBS<!-- -->_<!-- -->PER<!-- -->_<!-- -->PIPELINE<a class="hash-link" href="#metroline_max_jobs_per_pipeline" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 100</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>Maximum number of jobs per pipeline. Indirectly, this determines the maximum numbr of job entries in your <code>.metroline.yml</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_sync_interval">METROLINE<!-- -->_<!-- -->SYNC<!-- -->_<!-- -->INTERVAL<a class="hash-link" href="#metroline_sync_interval" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 1800 (30 minutes)</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>How often (in seconds) user repositories should be synchronized.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_clean_jobs_interval">METROLINE<!-- -->_<!-- -->CLEAN<!-- -->_<!-- -->JOBS<!-- -->_<!-- -->INTERVAL<a class="hash-link" href="#metroline_clean_jobs_interval" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 5</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>How often (in seconds) we should check for jobs that need to be cancelled due to a timeout.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_orgs">METROLINE<!-- -->_<!-- -->ORGS<a class="hash-link" href="#metroline_orgs" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>A comma separated list of organization <strong>names</strong> (not ID !) to which login and repos should be limited. For example:</p><div class="code-group" data-props="{ &quot;lineNumbers&quot;: [&quot;true&quot;] }"><div class="language-dotenv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dotenv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">METROLINE_ORGS=octocat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_ssl_key">METROLINE<!-- -->_<!-- -->SSL<!-- -->_<!-- -->KEY<a class="hash-link" href="#metroline_ssl_key" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>An SSL private key in PEM format. See <a href="#/core/ssl">SSL</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_ssl_cert">METROLINE<!-- -->_<!-- -->SSL<!-- -->_<!-- -->CERT<a class="hash-link" href="#metroline_ssl_cert" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: none</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>An SSL certificate in PEM format. See <a href="#/core/ssl">SSL</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_require_login_for_public_repos">METROLINE<!-- -->_<!-- -->REQUIRE<!-- -->_<!-- -->LOGIN<!-- -->_<!-- -->FOR<!-- -->_<!-- -->PUBLIC<!-- -->_<!-- -->REPOS<a class="hash-link" href="#metroline_require_login_for_public_repos" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: true</p><p><strong>Type</strong>: boolean</p><p><strong>Description</strong>:</p><p>When set to false, public repositories of your Git server will also be public in Metroline. This grants guests read-only access to pipelines, jobs and logs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_refresh_token_task_period">METROLINE<!-- -->_<!-- -->REFRESH<!-- -->_<!-- -->TOKEN<!-- -->_<!-- -->TASK<!-- -->_<!-- -->PERIOD<a class="hash-link" href="#metroline_refresh_token_task_period" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: 10</p><p><strong>Type</strong>: number</p><p><strong>Description</strong>:</p><p>How often (in seconds) to check for tokens that need to be refreshed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_cookie_samesite">METROLINE<!-- -->_<!-- -->COOKIE<!-- -->_<!-- -->SAMESITE<a class="hash-link" href="#metroline_cookie_samesite" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: null</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>Allows you to set the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite" target="_blank" rel="noopener noreferrer">SameSite</a> property for cookies defined by the server. Useful when your Metroline server has a different host or URL than your UI.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_cookie_secure">METROLINE<!-- -->_<!-- -->COOKIE<!-- -->_<!-- -->SECURE<a class="hash-link" href="#metroline_cookie_secure" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: false</p><p><strong>Type</strong>: boolean</p><p><strong>Description</strong>:</p><p>Allows you to set the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" target="_blank" rel="noopener noreferrer">Secure</a> property for cookies defined by the server. Some browsers, like Chrome, require it to be <code>true</code> to use cookies for cross site requests (which implies you need a secure backend). </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metroline_commit_message_skip_marker">METROLINE<!-- -->_<!-- -->COMMIT<!-- -->_<!-- -->MESSAGE<!-- -->_<!-- -->SKIP<!-- -->_<!-- -->MARKER<a class="hash-link" href="#metroline_commit_message_skip_marker" title="Direct link to heading">​</a></h2><p><strong>Default</strong>: <!-- -->[skip ci]<!-- -->,<!-- -->[ci skip]</p><p><strong>Type</strong>: string</p><p><strong>Description</strong>:</p><p>A comma-separated list of patterns Javascript regular expressions to match against commit messages. When a pattern matches, no pipeline is created.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/metroline/metroline-docs/tree/main/docs/30-environment-reference/10-server.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/metroline-docs/docs/ci-configuration/before-after-scripts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Before and after scripts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/metroline-docs/docs/environment-reference/runner"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Runner Environment Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#debug" class="table-of-contents__link toc-highlight">DEBUG</a></li><li><a href="#metroline_jwt_secret" class="table-of-contents__link toc-highlight">METROLINE_JWT_SECRET</a></li><li><a href="#metroline_jwt_token_expiration" class="table-of-contents__link toc-highlight">METROLINE_JWT_TOKEN_EXPIRATION</a></li><li><a href="#metroline_ui_url" class="table-of-contents__link toc-highlight">METROLINE_UI_URL</a></li><li><a href="#metroline_mongo_uri" class="table-of-contents__link toc-highlight">METROLINE_MONGO_URI</a></li><li><a href="#metroline_gitlab_url" class="table-of-contents__link toc-highlight">METROLINE_GITLAB_URL</a></li><li><a href="#metroline_gitlab_client_id" class="table-of-contents__link toc-highlight">METROLINE_GITLAB_CLIENT_ID</a></li><li><a href="#metroline_gitlab_client_secret" class="table-of-contents__link toc-highlight">METROLINE_GITLAB_CLIENT_SECRET</a></li><li><a href="#metroline_gitlab_webhook_ssl_verify" class="table-of-contents__link toc-highlight">METROLINE_GITLAB_WEBHOOK_SSL_VERIFY</a></li><li><a href="#metroline_gitea_url" class="table-of-contents__link toc-highlight">METROLINE_GITEA_URL</a></li><li><a href="#metroline_gitea_client_id" class="table-of-contents__link toc-highlight">METROLINE_GITEA_CLIENT_ID</a></li><li><a href="#metroline_gitea_client_secret" class="table-of-contents__link toc-highlight">METROLINE_GITEA_CLIENT_SECRET</a></li><li><a href="#metroline_github_url" class="table-of-contents__link toc-highlight">METROLINE_GITHUB_URL</a></li><li><a href="#metroline_github_client_id" class="table-of-contents__link toc-highlight">METROLINE_GITHUB_CLIENT_ID</a></li><li><a href="#metroline_github_client_secret" class="table-of-contents__link toc-highlight">METROLINE_GITHUB_CLIENT_SECRET</a></li><li><a href="#metroline_github_webhook_ssl_verify" class="table-of-contents__link toc-highlight">METROLINE_GITHUB_WEBHOOK_SSL_VERIFY</a></li><li><a href="#metroline_port" class="table-of-contents__link toc-highlight">METROLINE_PORT</a></li><li><a href="#metroline_host" class="table-of-contents__link toc-highlight">METROLINE_HOST</a></li><li><a href="#metroline_webhook_host" class="table-of-contents__link toc-highlight">METROLINE_WEBHOOK_HOST</a></li><li><a href="#metroline_migrate_rollback" class="table-of-contents__link toc-highlight">METROLINE_MIGRATE_ROLLBACK</a></li><li><a href="#metroline_job_timeout" class="table-of-contents__link toc-highlight">METROLINE_JOB_TIMEOUT</a></li><li><a href="#metroline_runner_secret" class="table-of-contents__link toc-highlight">METROLINE_RUNNER_SECRET</a></li><li><a href="#metroline_global_secrets" class="table-of-contents__link toc-highlight">METROLINE_GLOBAL_SECRETS</a></li><li><a href="#metroline_max_jobs_per_pipeline" class="table-of-contents__link toc-highlight">METROLINE_MAX_JOBS_PER_PIPELINE</a></li><li><a href="#metroline_sync_interval" class="table-of-contents__link toc-highlight">METROLINE_SYNC_INTERVAL</a></li><li><a href="#metroline_clean_jobs_interval" class="table-of-contents__link toc-highlight">METROLINE_CLEAN_JOBS_INTERVAL</a></li><li><a href="#metroline_orgs" class="table-of-contents__link toc-highlight">METROLINE_ORGS</a></li><li><a href="#metroline_ssl_key" class="table-of-contents__link toc-highlight">METROLINE_SSL_KEY</a></li><li><a href="#metroline_ssl_cert" class="table-of-contents__link toc-highlight">METROLINE_SSL_CERT</a></li><li><a href="#metroline_require_login_for_public_repos" class="table-of-contents__link toc-highlight">METROLINE_REQUIRE_LOGIN_FOR_PUBLIC_REPOS</a></li><li><a href="#metroline_refresh_token_task_period" class="table-of-contents__link toc-highlight">METROLINE_REFRESH_TOKEN_TASK_PERIOD</a></li><li><a href="#metroline_cookie_samesite" class="table-of-contents__link toc-highlight">METROLINE_COOKIE_SAMESITE</a></li><li><a href="#metroline_cookie_secure" class="table-of-contents__link toc-highlight">METROLINE_COOKIE_SECURE</a></li><li><a href="#metroline_commit_message_skip_marker" class="table-of-contents__link toc-highlight">METROLINE_COMMIT_MESSAGE_SKIP_MARKER</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Charlie Bravo SRL. Built with Docusaurus.</div></div></div></footer></div>
<script src="/metroline-docs/assets/js/runtime~main.1d5664a1.js"></script>
<script src="/metroline-docs/assets/js/main.02573d62.js"></script>
</body>
</html>